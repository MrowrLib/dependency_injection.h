TODO:
- [ ] Add support for passing a lambda for the factory
- [ ] MAYBE support for raw pointers to `RegisterSingleton`